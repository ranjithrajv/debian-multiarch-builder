# User-Configurable Default Settings
# These are sensible defaults that users commonly override
# Override any of these in your project's multiarch-config.yaml

# Default build settings
artifact_format: tar.gz  # Default archive format
binary_path: ""          # Empty means binaries in root of archive

# Parallel build configuration
parallel_builds:
  # Build multiple architectures in parallel
  architectures:
    enabled: true
    max_concurrent: 2    # Auto-optimized based on CI environment detection

  # Build multiple distributions in parallel (per architecture)
  distributions:
    enabled: true        # Enabled by default for faster builds

# CI/CD Optimization settings
ci_optimization:
  # Auto-detect CI environment and optimize accordingly
  enabled: true
  # Apply resource-based limits in CI environments
  resource_based_limits: true
  # Graceful degradation for limited resources
  graceful_degradation: true
  # Minimum memory per parallel job (MB)
  min_memory_per_job: 1024
  # Minimum CPU cores per parallel job
  min_cores_per_job: 1
  # Reserve resources for CI infrastructure overhead
  ci_overhead_reserve:
    memory_mb: 1024     # 1GB for CI infrastructure
    cpu_cores: 1        # 1 core for CI infrastructure

# Build orchestration
polling_interval_seconds: 1  # How often to check for completed builds

# Auto-discovery preferences
auto_discovery:
  # Exclude these patterns when filtering release assets
  exclude_patterns:
    - "sha256"
    - "checksum"
    - "source"

  # Build type preference order (first match wins)
  # Most users prefer gnu builds (native to Debian) over musl
  build_preferences:
    - "gnu"
    - "musl"
    - "linux"

# Checksum verification
checksum:
  # Specific checksum file patterns (tried in order)
  # {release_pattern} is replaced with actual filename
  file_patterns:
    - "{release_pattern}.sha256"
    - "{release_pattern}.sha256sum"
    - "SHA256SUMS"
    - "checksums.txt"

  # Generic patterns (fallback if specific not found)
  generic_patterns:
    - "sha256"
    - "checksums"
    - "sums"

# GitHub API
github_api_base_url: "https://api.github.com"
# For GitHub Enterprise, override with:
# github_api_base_url: "https://github.example.com/api/v3"

# Lintian validation
lintian:
  enabled: false           # Controlled by action input
  fail_on_errors: true     # Fail build if lintian reports errors
  fail_on_warnings: false  # Continue build even with warnings
  pedantic: false          # Enable pedantic checks
  display_level: "info"    # Minimum severity to display: info, warning, error
  suppress_tags: []        # List of lintian tags to ignore
  # Common tags to suppress (examples):
  # - new-package-should-close-itp-bug
  # - changelog-file-missing-in-native-package
